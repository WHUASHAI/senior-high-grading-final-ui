<!-- Admin Accounts Management -->
<div class="container-fluid p-0" style="background-color: #f8f9fa; min-height: 100vh;">
  <div class="row g-0">
    <!-- Content Area -->
    <div class="col" style="padding: 40px 60px;">
      <!-- Header Section -->
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="mb-0" style="color: #333; font-weight: 600; font-size: 2rem;">Account Management</h2>
        <div class="d-flex gap-4">
          <div class="text-end">
            <span style="color: #666; font-size: 0.95rem;">Admin Panel</span>
          </div>
          <div class="text-end">
            <button routerLink="add" class="btn" style="background-color: #1e3a8a; color: white; border-color: #1e3a8a; border-radius: 5px;">
              Add New Account
            </button>
          </div>
        </div>
      </div>

      <!-- Loading State -->
      <div *ngIf="loading" class="text-center py-5">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>

      <!-- Accounts Table Section -->
      <div *ngIf="!loading" style="border: 3px solid #000; background: white; padding: 30px 25px; margin: 20px 0; position: relative;">
        <!-- Accounts label in top left -->
        <div style="position: absolute; top: -15px; left: 15px; background: #f8f9fa; padding: 0 15px;">
          <span style="color: #000; font-weight: 600; font-size: 1.1rem;">User Accounts</span>
        </div>
      <div class="table-responsive">
        <table class="table table-striped mb-0">
          <thead style="background-color: #1e3a8a; color: white;">
            <tr>
              <th class="border-0">NAME</th>
              <th class="border-0">EMAIL</th>
              <th class="border-0">STATUS</th>
              <th class="border-0">ROLE</th>
              <th class="border-0 text-center">ACTIONS</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let account of accounts">
              <td class="py-3">
                <div class="d-flex align-items-center">
                  <div class="text-white rounded-circle d-flex align-items-center justify-content-center me-3"
                       style="width: 35px; height: 35px; font-size: 14px; font-weight: bold; background-color: #1e3a8a;">
                    {{ account.firstName?.charAt(0) }}{{ account.lastName?.charAt(0) }}
                  </div>
                  <div>
                    <div class="fw-semibold">{{ account.title }} {{ account.firstName }} {{ account.lastName }}</div>
                  </div>
                </div>
              </td>
              <td class="py-3">
                <span class="text-muted">{{ account.email }}</span>
              </td>
              <td class="py-3">
                <span class="fw-semibold" [style.color]="account.isActive ? '#16a34a' : '#6b7280'">
                  {{ account.isActive ? 'Active' : 'Inactive' }}
                </span>
              </td>
              <td class="py-3">
                <span class="fw-semibold" [style.color]="getRoleColor(account.role)">
                  {{ account.role }}
                </span>
              </td>
              <td class="py-3 text-center">
                <div class="btn-group btn-group-sm" role="group">
                  <button [routerLink]="['edit', account.id]" class="btn" style="background-color: #1e3a8a; color: white; border-color: #1e3a8a;">
                    Edit
                  </button>
                  <button (click)="deleteAccount(account.id)" class="btn btn-danger">
                    Delete
                  </button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
        </div>
      </div>

      <!-- Empty State -->
      <div *ngIf="accounts.length === 0 && !loading" class="text-center" style="border: 3px solid #000; background: white; padding: 40px 25px; margin: 20px 0; position: relative;">
        <!-- Empty State label in top left -->
        <div style="position: absolute; top: -15px; left: 15px; background: #f8f9fa; padding: 0 15px;">
          <span style="color: #000; font-weight: 600; font-size: 1.1rem;">No Accounts</span>
        </div>
        <h4 style="color: #666; margin-bottom: 15px;">No accounts found</h4>
        <p style="color: #666; margin-bottom: 25px;">Start by creating your first account to manage users and permissions.</p>
        <button routerLink="add" class="btn" style="background-color: #1e3a8a; color: white; border-color: #1e3a8a; border-radius: 5px;">
          Create First Account
        </button>
      </div>
    </div>
  </div>
</div>
